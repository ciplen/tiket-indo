<div class="ribbon">
	<div class="page-title">{{'access.right' | translate}}</div>
</div>
<div *ngIf="model" class="card">
	<div class="card-body">
		<form (ngSubmit)="onSubmit(myForm.controls)" #myForm="ngForm">
			<div class="form-group row">
				<label class="col-sm-2  col-form-label">{{'access.right.name' | translate}}</label>
				<div class="col-sm-4">
					<input class="form-control" name="name" required maxlength="20" minlength="4" [disabled]="model.id>0" [(ngModel)]="model.name">
					<span *ngIf="formErrors.name" class="validation-message">{{ formErrors.name.key | translate:formErrors.name.param}}</span>
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-2  col-form-label">{{'access.right.desc' | translate}}</label>
				<div class="col-sm-4">
					<input class="form-control" [(ngModel)]="model.description" name="description" required maxlength="255" minlength="4">
					<span *ngIf="formErrors.description" class="validation-message">{{ formErrors.description.key | translate:formErrors.description.param}}</span>
				</div>
			</div>
			<div class="card mb-2">
				<div class="card-header">{{'lst.permission' | translate}}</div>
				<div class="card-body">
					<div class="container">
						<div *ngFor="let item of model.permissionList" class="row hoverDiv">
							<div class="col-sm">
								{{item.permission}}
							</div>
							<div class="col-sm">
								{{item.description}}
							</div>
							<div class="col-sm">
								<input class="form-check-input" type="checkbox" [(ngModel)]="item.selected" [ngModelOptions]="{standalone: true}">
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-sm-10 offset-sm-2">
					<button class="btn btn-default" [disabled]="!myForm.form.valid" (click)="onSubmit()">{{'save' | translate}}</button>
					<a class="btn btn-default ml-2" routerLink="../">{{'back' | translate}}</a>
				</div>
			</div>
		</form>
	</div>
</div>